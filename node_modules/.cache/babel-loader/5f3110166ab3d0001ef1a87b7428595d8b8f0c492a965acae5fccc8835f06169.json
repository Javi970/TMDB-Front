{"ast":null,"code":"import { createAction, createReducer } from \"@reduxjs/toolkit\";\nimport { message } from 'antd';\nexport const setUser = createAction(\"SET_USER\");\nexport const userLogOut = createAction('USER_LOGOUT');\nexport const addToFavorites = createAction('ADD_TO_FAVORITES');\nexport const removeFromFavorites = createAction('REMOVE_FROM_FAVORITES');\nconst initialState = {\n  id: null,\n  email: null,\n  name: null,\n  moviesFav: []\n};\nconst userReducer = createReducer(initialState, {\n  [setUser]: (state, action) => action.payload,\n  [userLogOut]: (state, action) => state = {},\n  [addToFavorites]: (state, action) => {\n    if (state.moviesFav.find(fav => fav.id === action.payload.id)) {\n      message.error('error:this movie was already added to favorites');\n      return state;\n    }\n    message.success('Movie added to favorites');\n    return state.properties.push(action.payload);\n  },\n  [removeFromFavorites]: (state, action) => {\n    message.success(`Property removed from favorites`);\n    return {\n      ...state,\n      properties: state.properties.filter(fav => fav.id !== action.payload.id)\n    };\n  }\n});\n\n/* const reducer = createReducer(initialState, {\n  [setUser]: (state, action) => action.payload,\n}); */\n\nexport default useReducer;","map":{"version":3,"names":["createAction","createReducer","message","setUser","userLogOut","addToFavorites","removeFromFavorites","initialState","id","email","name","moviesFav","userReducer","state","action","payload","find","fav","error","success","properties","push","filter","useReducer"],"sources":["/home/augusto/Projects/TMDB/TMDB-Front/src/store/user.js"],"sourcesContent":["import { createAction, createReducer } from \"@reduxjs/toolkit\";\nimport { message } from 'antd'\n\nexport const setUser = createAction(\"SET_USER\");\nexport const userLogOut = createAction('USER_LOGOUT')\nexport const addToFavorites = createAction('ADD_TO_FAVORITES')\nexport const removeFromFavorites = createAction('REMOVE_FROM_FAVORITES')\n\nconst initialState = {\n  id: null,\n  email: null,\n  name: null,\n  moviesFav:[]\n};\n\nconst userReducer = createReducer(initialState, {\n  [setUser]: (state, action) => action.payload,\n  [userLogOut]: (state, action) => (state = {}),\n  [addToFavorites]: (state, action) => {\n    if (state.moviesFav.find((fav) => fav.id === action.payload.id)) {\n      message.error('error:this movie was already added to favorites')\n      return state\n    }\n\n    message.success('Movie added to favorites')\n    return state.properties.push(action.payload)\n  },\n  [removeFromFavorites]: (state, action) => {\n    message.success(`Property removed from favorites`)\n    return {\n      ...state,\n      properties: state.properties.filter(\n        (fav) => fav.id !== action.payload.id,\n      ),\n    }\n  },\n})\n\n/* const reducer = createReducer(initialState, {\n  [setUser]: (state, action) => action.payload,\n}); */\n\nexport default useReducer;"],"mappings":"AAAA,SAASA,YAAY,EAAEC,aAAa,QAAQ,kBAAkB;AAC9D,SAASC,OAAO,QAAQ,MAAM;AAE9B,OAAO,MAAMC,OAAO,GAAGH,YAAY,CAAC,UAAU,CAAC;AAC/C,OAAO,MAAMI,UAAU,GAAGJ,YAAY,CAAC,aAAa,CAAC;AACrD,OAAO,MAAMK,cAAc,GAAGL,YAAY,CAAC,kBAAkB,CAAC;AAC9D,OAAO,MAAMM,mBAAmB,GAAGN,YAAY,CAAC,uBAAuB,CAAC;AAExE,MAAMO,YAAY,GAAG;EACnBC,EAAE,EAAE,IAAI;EACRC,KAAK,EAAE,IAAI;EACXC,IAAI,EAAE,IAAI;EACVC,SAAS,EAAC;AACZ,CAAC;AAED,MAAMC,WAAW,GAAGX,aAAa,CAACM,YAAY,EAAE;EAC9C,CAACJ,OAAO,GAAG,CAACU,KAAK,EAAEC,MAAM,KAAKA,MAAM,CAACC,OAAO;EAC5C,CAACX,UAAU,GAAG,CAACS,KAAK,EAAEC,MAAM,KAAMD,KAAK,GAAG,CAAC,CAAE;EAC7C,CAACR,cAAc,GAAG,CAACQ,KAAK,EAAEC,MAAM,KAAK;IACnC,IAAID,KAAK,CAACF,SAAS,CAACK,IAAI,CAAEC,GAAG,IAAKA,GAAG,CAACT,EAAE,KAAKM,MAAM,CAACC,OAAO,CAACP,EAAE,CAAC,EAAE;MAC/DN,OAAO,CAACgB,KAAK,CAAC,iDAAiD,CAAC;MAChE,OAAOL,KAAK;IACd;IAEAX,OAAO,CAACiB,OAAO,CAAC,0BAA0B,CAAC;IAC3C,OAAON,KAAK,CAACO,UAAU,CAACC,IAAI,CAACP,MAAM,CAACC,OAAO,CAAC;EAC9C,CAAC;EACD,CAACT,mBAAmB,GAAG,CAACO,KAAK,EAAEC,MAAM,KAAK;IACxCZ,OAAO,CAACiB,OAAO,CAAE,iCAAgC,CAAC;IAClD,OAAO;MACL,GAAGN,KAAK;MACRO,UAAU,EAAEP,KAAK,CAACO,UAAU,CAACE,MAAM,CAChCL,GAAG,IAAKA,GAAG,CAACT,EAAE,KAAKM,MAAM,CAACC,OAAO,CAACP,EAAE;IAEzC,CAAC;EACH;AACF,CAAC,CAAC;;AAEF;AACA;AACA;;AAEA,eAAee,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}